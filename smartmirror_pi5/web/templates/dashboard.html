<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Smart Mirror</title>
  <meta http-equiv="refresh" content="60">
  <link rel="stylesheet" href="/static/style.css">
  <script defer src="/static/app.js"></script>
</head>

<body>
  <div class="top">
    <div class="title">Smart Mirror Â· {{ now }}</div>
  </div>

  <div class="grid">

    <!-- 2) ë‚ ì”¨ -->
    <div class="card" id="weather-card">
      <div class="card-title">ğŸŒ¤ï¸ ë‚ ì”¨</div>
      <div class="weather-main">
        <div class="big">
          {% if weather.temp is not none %}{{ weather.temp|round(0) }}Â°C{% else %}--{% endif %}
        </div>
        <div class="weather-desc">{{ weather.weather_desc if weather.weather_desc else "" }}</div>
      </div>

      <!-- ë¹„/ëˆˆ ì•Œë¦¼ -->
      {% if weather.is_rain or weather.is_snow %}
      <div class="weather-alert {% if weather.is_snow %}snow{% else %}rain{% endif %}">
        {% if weather.is_snow %}
        â„ï¸ ëˆˆì´ ì˜¤ê³  ìˆìŠµë‹ˆë‹¤{% if weather.snow_1h %} ({{ weather.snow_1h }}mm/h){% endif %}
        {% else %}
        ğŸŒ§ï¸ ë¹„ê°€ ì˜¤ê³  ìˆìŠµë‹ˆë‹¤{% if weather.rain_1h %} ({{ weather.rain_1h }}mm/h){% endif %}
        {% endif %}
      </div>
      {% endif %}

      <div class="weather-details">
        <div class="sub">ì²´ê° {{ weather.feels_like|round(0) if weather.feels_like is not none else "--" }}Â°C</div>
        <div class="sub">ê°•ìˆ˜í™•ë¥  {{ (precip_prob*100)|round(0) }}%</div>
        {% if weather.humidity is not none %}<div class="sub">ìŠµë„ {{ weather.humidity }}%</div>{% endif %}
      </div>
    </div>

  </div>
</body>

</html>